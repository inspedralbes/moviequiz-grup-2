<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../css/registre.css">

</head>

<body>



    <nav>
        <div class="nav-wrapper">
            <a href="#!" class="brand-logo">Registre</a>
            <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
            <ul class="right hide-on-med-and-down">
                <li><a class="modal-trigger" href="#modalLogin">Login</a></li>
                <li><a>Register</a></li>
            </ul>
        </div>
    </nav>


    <div class="row">
        <div class="input-field col s6">
            <input id="username" type="text" data-length="10">
            <label for="username"> <span class="blue-text text-darken-2">Nom d'usuari</span></label>
        </div>
    </div>

    <div class="row">
        <div class="input-field col s6">
            <input id="nom" type="text" data-length="10">
            <label for="nom"><span class="blue-text text-darken-2">Nom real</span></label>
        </div>
    </div>

    <div class="row">
        <div class="input-field col s6">
            <input id="cognoms" type="text" data-length="10">
            <label for="cognoms"><span class="blue-text text-darken-2">Cognoms</span></label>
        </div>
    </div>

    <div class="row">
        <div class="input-field col s6">
            <input id="email" type="text" data-length="10">
            <label for="email"><span class="blue-text text-darken-2">Adreça electrónica</span></label>
        </div>
    </div>

    <div class="row">
        <div class="input-field col s6">
            <input id="password" type="text" data-length="10">
            <label for="password"><span class="blue-text text-darken-2">Contrasenya</span></label>
        </div>
    </div>

    <div class="row">
        <div class="input-field col s6">
            <input id="passwordr" type="text" data-length="10">
            <label for="passwordr"><span class="blue-text text-darken-2">Repeteix Contrasenya</span></label>
        </div>
    </div>




    <button type="submit" id="registre">registrar</button>





</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>

    document.getElementById("registre").addEventListener("click", function () {


        let usuari = document.getElementById("username").value;
        let nom = document.getElementById("nom").value;
        let cognoms = document.getElementById("cognoms").value;
        let email = document.getElementById("email").value;
        let password = document.getElementById("password").value;



        const datosEnvio = new FormData();

        datosEnvio.append('user', usuari);
        datosEnvio.append('nom', nom);
        datosEnvio.append('cognom', cognoms);
        datosEnvio.append('email', email);
        datosEnvio.append('password', password);

        console.log(datosEnvio);




        fetch(`http://localhost/pruebas/controller.php?action=registrarUser`, {

            method: 'POST',
            body: datosEnvio

        }).then(function (res) {
            console.log(res)
            return res.text()
        })

    });



</script>

</html>